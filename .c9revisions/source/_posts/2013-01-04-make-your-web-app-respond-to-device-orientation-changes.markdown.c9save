{"ts":1357277595233,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"---\nlayout: post\ntitle: \"Make Your Web App Respond to Device Orientation Changes\"\ndate: 2013-01-04 00:31\ncomments: true\ncategories: \n---\n"]],"start1":0,"start2":0,"length1":0,"length2":137}]],"length":137}
{"contributors":[],"silentsave":false,"ts":1357277942548,"patch":[[{"diffs":[[0,"ories: \n---\n"],[1,"\nYour native apps are smart enough to know how you’re holding your device. Now your\nweb apps can be, too. Use orientation-based media queries to make your site responsive. \n\nMobile devices have brought a new paradigm to web development. Unlike desktops and laptops that have a fixed orientation (I rarely see people flip their PowerBook on its side), mobile devices can be viewed in either landscape or portrait mode. Most mobile phones and tablets have an accelerometer inside that recognizes the change in orientation and adjusts the screen accordingly. This allows you to view content on these devices in either aspect ratio. For example, the iPad has a screen aspect ratio of 3:4 where the device is taller than it is wide. When you turn it on its side, it has an aspect ratio of 4:3 (wider than it is tall). That’s an orientation change.\nUsing media queries, you can natively identify which orientation the device is being held in, and utilize different CSS for each orientation. Let’s go back to our example page and see what it would look like in landscape mode (see Figure 2-16) and portrait mode (see Figure 2-17).\nFigure 2-16.\nOur sample page in landscape mode on an iPad, with three columns of content\nHere is the markup that makes each view work:\n<div class=\"row\">\n<div class=\"span4\">...</div>\n<div class=\"span4\">...</div>\n<div class=\"span4\">...</div>\n</div>\nHere is the CSS for the three-column view:\n.row {\nwidth: 100%;\n}\n\nFigure 2-17.\nOur sample page in portrait mode on an iPad, with one column of linear content\n.span4 {\nwidth: 300px;\nfloat: left;\nmargin-left: 30px;\n}\nand the CSS for the single-column view:\n.row {\nwidth: 100%;\n}\n.span4 {\nwidth: auto;\nfloat: none;\nmargin: 0;\n}\n\nNow we’ll wrap each CSS option in media queries so that they only apply in their proper orientation. Remember, the media queries wrap the CSS in conditions that only apply the declarations when the media query resolves to true. Using inline media queries (see Hack #16 for an explanation of other implementation options), our CSS will now look something like this:\n\n@media screen and (orientation:landscape) {\n.row {\nwidth: 100%;\n}\n.span4 {\nwidth: 300px;\nfloat: left;\nmargin-left: 30px;\n}\n}\n@media screen and (orientation:portrait) {\n.row {\nwidth: 100%;\n}\n.span4 {\nwidth: auto;\nfloat: none;\nmargin: 0;\n}\n}\nWith the CSS and media queries in place, our page will have three columns of content in landscape mode, and only one in portrait mode.\n\nWhy Not Width?\nIf you compare device orientation to max-width pixel media queries, you may realize you can accomplish this hack with max- and min-width queries, since the width will change when the device changes orientation. However, there are pros and cons to doing this.\nMedia queries based on orientation can often be simpler. You don’t need to know what screen size to expect for landscape versus portrait view. You simply rely on the orientation published by the device. You also gain consistency between devices in terms of how the pages appear in each orientation.\n\nThe argument against orientation media queries is pretty much the same. You really shouldn’t care if your orientation is portrait or landscape. If your screen width is 700px, it shouldn’t matter which way the device is being held: the layout should cater to a 700 px screen. When you design for the available space the actual orientation becomes inconsequential."]],"start1":125,"start2":125,"length1":12,"length2":3387}]],"length":3512,"saved":false}
{"ts":1357278390763,"patch":[[{"diffs":[[0,": \n---\n\n"],[1,"####"],[0,"Your nat"]],"start1":130,"start2":130,"length1":16,"length2":20},{"diffs":[[0,"Now your"],[-1,"\n"],[1," "],[0,"web apps"]],"start1":216,"start2":216,"length1":17,"length2":17},{"diffs":[[0,"w work:\n"],[1,"{% codeblock orientation.html %}\n"],[0,"<div cla"]],"start1":1392,"start2":1392,"length1":16,"length2":49},{"diffs":[[0,"\n</div>\n"],[1,"{% codeblock %}\n"],[0,"Here is "]],"start1":1537,"start2":1537,"length1":16,"length2":32},{"diffs":[[0,"ee-column view:\n"],[1,"{% codeblock orientation.css %}\n"],[0,".row {\nwidth: 10"]],"start1":1588,"start2":1588,"length1":32,"length2":64},{"diffs":[[0,"100%;\n}\n"],[1,"{% codeblock %}"],[0,"\nFigure "]],"start1":1650,"start2":1650,"length1":16,"length2":31},{"diffs":[[0," content"],[1,":\n{% codeblock orientation.css %}"],[0,"\n.span4 "]],"start1":1757,"start2":1757,"length1":16,"length2":49},{"diffs":[[0,"30px;\n}\n"],[1,"{% codeblock %}\n"],[0,"and the "]],"start1":1848,"start2":1848,"length1":16,"length2":32},{"diffs":[[0,"n view:\n"],[1,"{% codeblock orientation.css %}\n"],[0,".row {\nw"]],"start1":1904,"start2":1904,"length1":16,"length2":48},{"diffs":[[0,"n: 0;\n}\n"],[-1,""],[0,""],[1,"{% codeblock %}"],[0,"\nNow we’"]],"start1":2006,"start2":2006,"length1":16,"length2":31},{"diffs":[[0,"e this:\n"],[-1,""],[0,""],[1,"{% codeblock orientation.css %}"],[0,"\n@media "]],"start1":2387,"start2":2387,"length1":16,"length2":47},{"diffs":[[0," 0;\n}\n}\n"],[1,"{% codeblock %}\n"],[0,"With the"]],"start1":2659,"start2":2659,"length1":16,"length2":32}]],"length":3755,"saved":false}
{"ts":1357278418495,"patch":[[{"diffs":[[0," mode.\n\n"],[1,"##"],[0,"Why Not "]],"start1":2811,"start2":2811,"length1":16,"length2":18}]],"length":3757,"saved":false}
{"ts":1357278486092,"patch":[[{"diffs":[[0,"gories: "],[1,"[\"css\",\"mobile\",\"media queries\"]"],[0,"\n---\n\n##"]],"start1":124,"start2":124,"length1":16,"length2":48}]],"length":3789,"saved":false}
{"ts":1357278543725,"patch":[[{"diffs":[[0,"change.\n"],[1,"\n"],[0,"Using me"]],"start1":1008,"start2":1008,"length1":16,"length2":17},{"diffs":[[0," 2-17).\n"],[1,"\n"],[0,"Figure 2"]],"start1":1290,"start2":1290,"length1":16,"length2":17},{"diffs":[[0,"e 2-16.\n"],[1,"\n"],[0,"Our samp"]],"start1":1304,"start2":1304,"length1":16,"length2":17},{"diffs":[[0,"content\n"],[1,"\n"],[0,"Here is "]],"start1":1381,"start2":1381,"length1":16,"length2":17},{"diffs":[[0,"w work:\n"],[1,"\n"],[0,"{% codeb"]],"start1":1428,"start2":1428,"length1":16,"length2":17},{"diffs":[[0,"lock %}\n"],[1,"\n\n"],[0,"Here is "]],"start1":1590,"start2":1590,"length1":16,"length2":18},{"diffs":[[0,"ee-column view:\n"],[1,"\n"],[0,"{% codeblock ori"]],"start1":1627,"start2":1627,"length1":32,"length2":33},{"diffs":[[0,"lock %}\n"],[1,"\n\n"],[0,"Figure 2"]],"start1":1706,"start2":1706,"length1":16,"length2":18},{"diffs":[[0,"e 2-17.\n"],[1,"\n"],[0,"Our samp"]],"start1":1721,"start2":1721,"length1":16,"length2":17},{"diffs":[[0,"ontent:\n"],[1,"\n"],[0,"{% codeb"]],"start1":1802,"start2":1802,"length1":16,"length2":17},{"diffs":[[0,"lock %}\n"],[1,"\n\n"],[0,"Now we’l"]],"start1":2066,"start2":2066,"length1":16,"length2":18},{"diffs":[[0,"e this:\n"],[1,"\n"],[0,"{% codeb"]],"start1":2433,"start2":2433,"length1":16,"length2":17},{"diffs":[[0,"lock %}\n"],[1,"\n\n"],[0,"With the"]],"start1":2722,"start2":2722,"length1":16,"length2":18},{"diffs":[[0," Width?\n"],[1,"\n"],[0,"If you c"]],"start1":2877,"start2":2877,"length1":16,"length2":17},{"diffs":[[0,"g this.\n"],[1,"\n"],[0,"Media qu"]],"start1":3137,"start2":3137,"length1":16,"length2":17}]],"length":3808,"saved":false}
{"ts":1357278722602,"patch":[[{"diffs":[[0,"ries"],[-1," (see Hack #16 for an explanation of other implementation options)"],[0,", ou"]],"start1":2326,"start2":2326,"length1":74,"length2":8},{"diffs":[[0,"to a 700"],[-1," "],[0,"px scree"]],"start1":3635,"start2":3635,"length1":17,"length2":16}]],"length":3741,"saved":false}
{"ts":1357279038329,"patch":[[{"diffs":[[0,">\n</div>\n{% "],[1,"end"],[0,"codeblock %}"]],"start1":1573,"start2":1573,"length1":24,"length2":27},{"diffs":[[0,"lock %}\n"],[-1,""],[0,"\n\nHere i"]],"start1":1593,"start2":1593,"length1":16,"length2":16},{"diffs":[[0," 100%;\n}\n{% "],[1,"end"],[0,"codeblock %}"]],"start1":1692,"start2":1692,"length1":24,"length2":27},{"diffs":[[0," 30px;\n}\n{% "],[1,"end"],[0,"codeblock %}"]],"start1":1897,"start2":1897,"length1":24,"length2":27},{"diffs":[[0,"n: 0;\n}\n"],[-1,""],[0,"{% "],[1,"end"],[0,"codebloc"]],"start1":2059,"start2":2059,"length1":19,"length2":22},{"diffs":[[0,": 0;\n}\n}\n{% "],[1,"end"],[0,"codeblock %}"]],"start1":2651,"start2":2651,"length1":24,"length2":27}]],"length":3756,"saved":false}
{"ts":1357279158261,"patch":[[{"diffs":[[0," 2-16.\n\n"],[1,"<img class=\"figure\" alt=\"Figure 2-16\" src=\"/images/chapter2-images/2-15.png\">\n\n"],[0,"Our samp"]],"start1":1305,"start2":1305,"length1":16,"length2":95},{"diffs":[[0," 2-17.\n\n"],[1,"<img class=\"figure\" alt=\"Figure 2-17\" src=\"/images/chapter2-images/2-15b.png\">\n\n"],[0,"Our samp"]],"start1":1807,"start2":1807,"length1":16,"length2":96}]],"length":3915,"saved":false}
{"ts":1357279403911,"patch":[[{"diffs":[[0,"uential."],[1,"\n\nWant to try it out?  View this code sample in our [GitHub Repo](https://github.com/html5hacks/chapter2)."]],"start1":3907,"start2":3907,"length1":8,"length2":114}]],"length":4021,"saved":false}
{"ts":1357279407697,"patch":[[{"diffs":[[0,"hapter2)"],[1," "],[0,"."]],"start1":4012,"start2":4012,"length1":9,"length2":10}]],"length":4022,"saved":false}
{"ts":1357279409066,"patch":[[{"diffs":[[0,"hapter2)"],[-1," "],[0,"."]],"start1":4012,"start2":4012,"length1":10,"length2":9}]],"length":4021,"saved":false}
{"ts":1357280625124,"patch":[[{"diffs":[[0,").\n\n"],[-1,"Figure 2-16.\n"],[0,"\n<im"]],"start1":1295,"start2":1295,"length1":21,"length2":8},{"diffs":[[0,"ges/2-15.png\">\n\n"],[-1,""],[0,""],[1,"Figure 2-16:"],[0,"Our sample page "]],"start1":1363,"start2":1363,"length1":32,"length2":44},{"diffs":[[0,"=\"row\">\n"],[1,"  "],[0,"<div cla"]],"start1":1558,"start2":1558,"length1":16,"length2":18},{"diffs":[[0,"pan4\">...</div>\n"],[1,"  "],[0,"<div class=\"span"]],"start1":1581,"start2":1581,"length1":32,"length2":34},{"diffs":[[0,".</div>\n"],[1,"  "],[0,"<div cla"]],"start1":1620,"start2":1620,"length1":16,"length2":18},{"diffs":[[0,"n.css %}\n.row {\n"],[-1,""],[0,""],[1,"   "],[0,"width: 100%;\n}\n{"]],"start1":1754,"start2":1754,"length1":32,"length2":35},{"diffs":[[0,"}\n\n\n"],[-1,"Figure 2-17.\n\n"],[0,"<img"]],"start1":1805,"start2":1805,"length1":22,"length2":8},{"diffs":[[0,".png\">\n\n"],[1,"Figure 2-17: "],[0,"Our samp"]],"start1":1881,"start2":1881,"length1":16,"length2":29},{"diffs":[[0,"css %}\n.span4 {\n"],[1,"   "],[0,"width: 300px;\nfl"]],"start1":2008,"start2":2008,"length1":32,"length2":35},{"diffs":[[0,"  width: 300px;\n"],[1,"   "],[0,"float: left;\nmar"]],"start1":2025,"start2":2025,"length1":32,"length2":35},{"diffs":[[0,"   float: left;\n"],[1,"   "],[0,"margin-left: 30p"]],"start1":2041,"start2":2041,"length1":32,"length2":35},{"diffs":[[0,"n.css %}\n.row {\n"],[1,"   "],[0,"width: 100%;\n}\n."]],"start1":2163,"start2":2163,"length1":32,"length2":35},{"diffs":[[0,"00%;\n}\n.span4 {\n"],[1,"   "],[0,"width: auto;\nflo"]],"start1":2190,"start2":2190,"length1":32,"length2":35},{"diffs":[[0,"   width: auto;\n"],[1,"   "],[0,"float: none;\nmar"]],"start1":2206,"start2":2206,"length1":32,"length2":35},{"diffs":[[0,"   float: none;\n"],[1,"   "],[0,"margin: 0;\n}\n{% "]],"start1":2222,"start2":2222,"length1":32,"length2":35},{"diffs":[[0,"scape) {\n.row {\n"],[1,"   "],[0,"width: 100%;\n}\n."]],"start1":2642,"start2":2642,"length1":32,"length2":35},{"diffs":[[0,"\n}\n.span4 {\n"],[1,"   "],[0,"width: 300px"]],"start1":2673,"start2":2673,"length1":24,"length2":27},{"diffs":[[0," 300px;\n"],[1,"   "],[0,"float: l"]],"start1":2694,"start2":2694,"length1":16,"length2":19},{"diffs":[[0,": left;\n"],[1,"   "],[0,"margin-l"]],"start1":2710,"start2":2710,"length1":16,"length2":19},{"diffs":[[0,"\n.row {\n"],[1,"   "],[0,"width: 1"]],"start1":2786,"start2":2786,"length1":16,"length2":19},{"diffs":[[0,"span4 {\n"],[1,"   "],[0,"width: a"]],"start1":2813,"start2":2813,"length1":16,"length2":19},{"diffs":[[0,": auto;\n"],[1,"   "],[0,"float: n"]],"start1":2829,"start2":2829,"length1":16,"length2":19},{"diffs":[[0,": none;\n"],[1,"   "],[0,"margin: "]],"start1":2845,"start2":2845,"length1":16,"length2":19}]],"length":4073,"saved":false}
