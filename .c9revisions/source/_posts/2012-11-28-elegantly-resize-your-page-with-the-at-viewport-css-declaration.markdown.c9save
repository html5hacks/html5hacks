{"ts":1354145906035,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"---\nlayout: post\ntitle: \"Elegantly Resize Your Page with the @-viewport CSS Declaration\"\ndate: 2012-11-28 18:37\ncomments: true\ncategories: \n---\n"]],"start1":0,"start2":0,"length1":0,"length2":144}]],"length":144}
{"contributors":[],"silentsave":false,"ts":1354146023759,"patch":[[{"diffs":[[0,"ories: \n---\n"],[1,"Gone are the days of viewport meta tags that with implementations different across browsers.  The new @-viewport is easy to use and puts the control in the right place.\n\n\nThere is a minsconception that the meta “viewport” tag is a standard.  We have seen it implemeted in quite a few browsers, mostly mobile, and looks something like this:\n\n<meta name=\"viewport\" content=\"width=320\" />\n\nDevelopers use this meta tag to control the zoom factor of the browser when loading the page.  If the above example, the page will assume that the viewport is 320px, no matter how many pixels are really available for rendering.  Usually, it was used to squeeze a 900-1200px screen, into a 320px screen.\nThe meta tag worked okay but it has limitations, and since it’s non-standard, it’s been implemented different ways across browsers.\n\nCSS Pixels\nTo follow what's happening to your page with the viewport values, it’s important to understand the basic concept of viewport zooming.  I don’t think the explanation can be done any better than it was by PPK in this post.  Here’s the summary:\n\nBoth viewports are measured in CSS pixels, obviously. But while the visual viewport dimensions change with zooming (if you zoom in, less CSS pixels fit on the screen), the layout viewport dimensions remain the same. (If they didn’t your page would constantly reflow as percentual widths are recalculated.)\n\nLet’s look at an example:\n\nTwo screenshots, the left used rendered in ie10 on windows phone 8 with no view port setting.  The screenshot on the right has a viewport declaration set to  set the viewport width to 320px\n\n\nIn the above figure, we see a smiley face on a page.   Both pages have a smiley face that has a width set to 300 pixels.  The difference is in css pixels.  Mobile browsers zoom out to see more content on a page by default.  In this case the page on the left is zoomed out so that the whole page can be seen.  This makes our smiley face much smaller that it actually is.  Although it may only take up 70 pixels of actual screen pixels, it’s  css pixel width will always be 300. \n The figure on the right also is 300 css pixels, but since the viewport is set to 320px, the device pixels of the smiley face is actually 450 or so pixels.\n.\n\n@-viewport CSS\n  Sound difficult?  It’s going to get a lot simpler with a new specification.  The W3C has a specification to address the non-standard viewport meta tag and more, and the control has now rightfully been moved to CSS.\n\n  The specification can be found here:\n\n Although still in draft form, the specification has been implemented in Internet Explorer 10, and has developers quite excited about it.  Lets look at an example.  To set the screen to a CSS pixel width of 640 pixels, we would use the following css:\n\n@-viewport {\nwidth: 640px;\n} \n\nDoesn’t that make sense?  The great thing is that this property works both ways (scaling up and down).  If you screen width is smaller than 640px, your screen will be zoomed out to fix the entire 640px viewport on the screen.  If you screen is larger than 640px, you screen will be zoomed in to only show 640px viewport.  In either case the css width of the screen is 640px.\n\nInside the viewport tag, you can set any value that is related to the viewport, specifically that means width, height, max-width, max-height, min-width, and min-height.  Widths and heights can be set to any of the these values:\n\n    auto:  let the user agent determine the best\n    device width/height: scales to the actual width or height of the device.\n    percent/pixel value: specific settings to assume as the screen width or height.\n\nTo maximize responsive design, you can use this @-viewport tag along with media queries, and may appear as something like the following:\n\n@media (max-width: 699px) and (min-width: 520px) {\n  @-viewport {\n    width: 640px;\n  }\n}\n\n\nthe above css will normalize any screen smaller than 699px and larger than 520px to be rendered at a viewport of 640px.  This will save a boatload of other css properties to do this same feature.  \n\nIn addition to the existing values, we have a few new values added as well, specifically the zoom value. Zoom allows us to set an initial zoom factor for the window or viewing area.  Zoom, along with min-zoom and max-zoom, can be set using any of the following values:\n\nauto: let the user agent determine the zoom factor\nnumeric: a positive integer that is used to determine the zoom value  A value of 1.0 has no zoom.\npercentage: a positive percentage.  In the case of 100% there is no zoom.\n\nzoom can be used by itself or in conjunction with a width or height value:\n  @-viewport {\n    width: device-width;\n    zoom: .5;\n  }\n\nThe second new descriptor is that of “orientation”.  Any keen developer can tell that this is used to request that your device lock in a specific orientation.  Any of the following keywords can be used:\n\nauto: let the user agent determin \nlandscape: lock the device in landscape orientation\nportrait: lock the device in portrait mode\n\nThe implementation can be used along with width and zoom as in the following example:\n\n@viewport {\n    width: 980px;\n    min-zoom: 0.25;\n    max-zoom: 5;\n    orientation: landscape;\n}\n\n\nInternet Explorer Implementation\n\nThe implementation in Internet Explorer 10 is practically identical to the W3C standard (great job IE team), with the addition of a prefix to signify that it’s an experimental implementation (as all prefixed implementations are).  The ie viewport value appears as follows:\n\n@-ms-viewport {\n  width: device-width\n}\n\nIEs implementation currently only supports the width and height properties. Min and max height/width are not implemented and neither are zoom or orientation.  As with all early implementation of standards, if the specification changes, I have no doubt that the internet explorer team with update the implementation to match the standard.\n\n\nLegacy Implementations\nWhen most developers think about viewport, this is what they think of:\n\n<meta name=\"viewport\" content=\"width=320\" />\n\nThis tag zooms in the page to a viewport of 320 pixels.  Although originally introduced by apple most mobile browsers went on to support this tag in one form or another.  The tag was often supported differently from browser to browser, and the syntax was never really clear in its documentation.  hence, the need for a standard.\n\n  Different browses implemented the meta tag differently when using the meta tag to determine the width of the page (specifically by setting width to device-width)  Let’s look at the Windows Phone 7 Internet Explorer and iOS safari implementations.\n\nInternet explorer\nIf you set the width in the meta tag to a specific size in internet explorer for windows phone 7, you get exactly what you ask for.  A meta tag like this:\n\n<meta name=\"viewport\" content=\"width=480\" />\n\ngets you exactly what you ask for, which is a viewport zoomed to 480 pixels.  Now, when you set the width to be “device-width” such as the following:\n\n<meta name=\"viewport\" content=\"width=device-width\" />\n\nIn this case, you get a page with a width of 320px in portrait mode, and 480px in landscape.  This is independent of how many pixels are actually available on the screen.\n\n\nSafari\n  Safari on iOS works just like ie does for specific pixel settings, but differs when you set width to “device width”.  Let’s again look at our meta tag:\n\n<meta name=\"viewport\" content=\"width=device-width\" />\n\nIn the case of iOS, the width of the screen will be set to the actual width of the screen.  If the screen has 640 pixels, than the viewport will be resized to 640 pixels.\n\nOne of the worst parts about this meta tag is it really only helps on smaller screen, where content needs to scale down in size.  it’s outdated and was due to be replace with something better.  \n  The viewport standard is supported in ie10 on windows phone 8, but has legacy support for this meta tag as well.  Implementation of this meta tag in ie10 will give you the normalized values for page width (320px) when asking for screen size.\n\n\n\nhttp://dev.w3.org/csswg/css-device-adapt/\nhttp://msdn.microsoft.com/en-us/library/ie/hh869615(v=vs.85).aspx\n\nhttp://www.quirksmode.org/mobile/viewports2.html\n\nhttp://blogs.windows.com/windows_phone/b/wpdev/archive/2011/03/14/managing-the-windows-phone-browser-viewport.aspx\n\n"]],"start1":132,"start2":132,"length1":12,"length2":8317}]],"length":8449,"saved":false}
{"ts":1354154307619,"patch":[[{"diffs":[[0,"s: \n---\n"],[1,"####"],[0,"Gone are"]],"start1":136,"start2":136,"length1":16,"length2":20},{"diffs":[[0,"ing like this:\n\n"],[1,"{% codeblock %}\n"],[0,"<meta name=\"view"]],"start1":473,"start2":473,"length1":32,"length2":48},{"diffs":[[0,"320\" />\n"],[1,"{% endcodeblock %}\n\n"],[0,"\nDevelop"]],"start1":542,"start2":542,"length1":16,"length2":36},{"diffs":[[0,"wsers.\n\n"],[1,"##"],[0,"CSS Pixe"]],"start1":999,"start2":999,"length1":16,"length2":18},{"diffs":[[0,"pe;\n}\n\n\n"],[1,"##"],[0,"Internet"]],"start1":5368,"start2":5368,"length1":16,"length2":18},{"diffs":[[0,"ntation\n"],[-1,""],[0,"\nThe imp"]],"start1":5403,"start2":5403,"length1":16,"length2":16},{"diffs":[[0,"dard.\n\n\n"],[1,"##"],[0,"Legacy I"]],"start1":6059,"start2":6059,"length1":16,"length2":18},{"diffs":[[0,"tations\n"],[-1,""],[0,"When mos"]],"start1":6084,"start2":6084,"length1":16,"length2":16},{"diffs":[[0,"tions.\n\n"],[1,"###"],[0,"Internet"]],"start1":6782,"start2":6782,"length1":16,"length2":19},{"diffs":[[0,"xplorer\n"],[-1,""],[0,"If you s"]],"start1":6803,"start2":6803,"length1":16,"length2":16},{"diffs":[[0,"reen.\n\n\n"],[1,"###"],[0,"Safari\n "]],"start1":7384,"start2":7384,"length1":16,"length2":19}]],"length":8501,"saved":false}
{"ts":1354154701762,"patch":[[{"diffs":[[0,"els.\n.\n\n"],[1,"##"],[0,"@-viewpo"]],"start1":2418,"start2":2418,"length1":16,"length2":18},{"diffs":[[0,"ort CSS\n"],[-1,""],[0,"  Sound "]],"start1":2435,"start2":2435,"length1":16,"length2":16},{"diffs":[[0,"o CSS.\n\n"],[-1,"  "],[0,"The spec"]],"start1":2653,"start2":2653,"length1":18,"length2":16},{"diffs":[[0,"nd here:"],[1,"\n  [http://dev.w3.org/csswg/css-device-adapt/](http://dev.w3.org/csswg/css-device-adapt/)"],[0,"\n\n Altho"]],"start1":2689,"start2":2689,"length1":16,"length2":105},{"diffs":[[0,"g css:\n\n"],[1,"{% codeblock %}\n"],[0,"@-viewpo"]],"start1":3032,"start2":3032,"length1":16,"length2":32},{"diffs":[[0,"40px;\n} "],[1,"\n{% endcodeblock %}"],[0,"\n\nDoesn’"]],"start1":3077,"start2":3077,"length1":16,"length2":35},{"diffs":[[0,"owing:\n\n"],[1,"{% codeblock %}\n"],[0,"@media ("]],"start1":4052,"start2":4052,"length1":16,"length2":32},{"diffs":[[0,";\n  }\n}\n"],[1,"{% endcodeblock %}\n"],[0,"\n\nthe ab"]],"start1":4158,"start2":4158,"length1":16,"length2":35},{"diffs":[[0," value:\n"],[-1,"  "],[1,"\n{% codeblock %}\n"],[0,"@-viewpo"]],"start1":4947,"start2":4947,"length1":18,"length2":33},{"diffs":[[0," .5;\n  }"],[1,"\n{% endcodeblock %}"],[0,"\n\nThe se"]],"start1":5019,"start2":5019,"length1":16,"length2":35},{"diffs":[[0,"ample:\n\n"],[1,"{% codeblock %}\n"],[0,"@viewpor"]],"start1":5462,"start2":5462,"length1":16,"length2":32},{"diffs":[[0,"cape;\n}\n"],[1,"{% endcodeblock %}\n"],[0,"\n\n##Inte"]],"start1":5575,"start2":5575,"length1":16,"length2":35},{"diffs":[[0,"llows:\n\n"],[1,"{% codeblock %}\n"],[0,"@-ms-vie"]],"start1":5906,"start2":5906,"length1":16,"length2":32},{"diffs":[[0,"-width\n}"],[1,"\n{% endcodeblock %}"],[0,"\n\nIEs im"]],"start1":5961,"start2":5961,"length1":16,"length2":35},{"diffs":[[0,"nk of:\n\n"],[1,"{% codeblock %}\n"],[0,"<meta na"]],"start1":6419,"start2":6419,"length1":16,"length2":32},{"diffs":[[0,"=320\" />"],[1,"\n{% endcodeblock %}"],[0,"\n\nThis t"]],"start1":6479,"start2":6479,"length1":16,"length2":35},{"diffs":[[0," this:\n\n"],[1,"{% codeblock %}\n\n"],[0,"<meta na"]],"start1":7257,"start2":7257,"length1":16,"length2":33},{"diffs":[[0,"=480\" />"],[1,"\n{% endcodeblock %}"],[0,"\n\ngets y"]],"start1":7318,"start2":7318,"length1":16,"length2":35},{"diffs":[[0,"following:\n\n"],[1,"{% codeblock %}\n"],[0,"<meta name=\""]],"start1":7486,"start2":7486,"length1":24,"length2":40},{"diffs":[[0,"ce-width\" />"],[1,"\n{% endcodeblock %}"],[0,"\n\nIn this ca"]],"start1":7555,"start2":7555,"length1":24,"length2":43},{"diffs":[[0,"ta tag:\n"],[1,"{% codeblock %}"],[0,"\n<meta n"]],"start1":7917,"start2":7917,"length1":16,"length2":31},{"diffs":[[0,"idth\" />"],[1,"\n{% endcodeblock %}"],[0,"\n\nIn the"]],"start1":7986,"start2":7986,"length1":16,"length2":35}]],"length":8904,"saved":false}
{"ts":1354155008908,"patch":[[{"diffs":[[0,"screen.\n"],[1,"\n"],[0,"The meta"]],"start1":866,"start2":866,"length1":16,"length2":17},{"diffs":[[0," 320px\n\n"],[-1,"\n"],[0,"In the a"]],"start1":1781,"start2":1781,"length1":17,"length2":16},{"diffs":[[0,"e 300. \n"],[-1," "],[1,"\n"],[0,"The figu"]],"start1":2259,"start2":2259,"length1":17,"length2":17},{"diffs":[[0,"els."],[-1,"\n."],[0,"\n\n##"]],"start1":2418,"start2":2418,"length1":10,"length2":8},{"diffs":[[0,"ort CSS\n"],[-1,"  "],[0,"Sound di"]],"start1":2433,"start2":2433,"length1":18,"length2":16},{"diffs":[[0,"dapt/)\n\n"],[-1," "],[0,"Although"]],"start1":2776,"start2":2776,"length1":17,"length2":16},{"diffs":[[0,"s:\n\n    "],[1,"*"],[0,"auto:  l"]],"start1":3702,"start2":3702,"length1":16,"length2":17},{"diffs":[[0,"est\n    "],[1,"*"],[0,"device w"]],"start1":3752,"start2":3752,"length1":16,"length2":17},{"diffs":[[0,"ce.\n    "],[1,"*"],[0,"percent/"]],"start1":3830,"start2":3830,"length1":16,"length2":17},{"diffs":[[0,"ck %}\n\n\n"],[-1,"t"],[1,"T"],[0,"he above"]],"start1":4177,"start2":4177,"length1":17,"length2":17},{"diffs":[[0,"alues:\n\n"],[1,"    *"],[0,"auto: le"]],"start1":4646,"start2":4646,"length1":16,"length2":21},{"diffs":[[0," factor\n"],[1,"    *"],[0,"numeric:"]],"start1":4702,"start2":4702,"length1":16,"length2":21},{"diffs":[[0,"o zoom.\n"],[1,"    *"],[0,"percenta"]],"start1":4805,"start2":4805,"length1":16,"length2":21},{"diffs":[[0," zoom.\n\n"],[-1,"z"],[1,"Z"],[0,"oom can "]],"start1":4885,"start2":4885,"length1":17,"length2":17},{"diffs":[[0," used:\n\n"],[1,"    *"],[0,"auto: le"]],"start1":5257,"start2":5257,"length1":16,"length2":21},{"diffs":[[0,"termin \n"],[1,"    *"],[0,"landscap"]],"start1":5297,"start2":5297,"length1":16,"length2":21},{"diffs":[[0,"ntation\n"],[1,"    *"],[0,"portrait"]],"start1":5354,"start2":5354,"length1":16,"length2":21},{"diffs":[[0,"ndard.\n\n"],[-1,"  "],[0,""],[1,""],[0,"Differen"]],"start1":6858,"start2":6858,"length1":18,"length2":16},{"diffs":[[0,"lock %}\n"],[-1,"\n"],[0,"<meta na"]],"start1":7299,"start2":7299,"length1":17,"length2":16},{"diffs":[[0,"%}\n\n"],[1,"The above code will "],[0,"get"],[-1,"s"],[0," you"]],"start1":7368,"start2":7368,"length1":12,"length2":31},{"diffs":[[0,"#Safari\n"],[-1,"  "],[0,"Safari o"]],"start1":7807,"start2":7807,"length1":18,"length2":16},{"diffs":[[0,"ta tag:\n"],[1,"\n"],[0,"{% codeb"]],"start1":7959,"start2":7959,"length1":16,"length2":17},{"diffs":[[0,"tter.  \n"],[-1,"  "],[1,"\n"],[0,"The view"]],"start1":8417,"start2":8417,"length1":18,"length2":17}]],"length":8946,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354156031284,"patch":[[{"diffs":[[0,":\n\n{% codeblock "],[1,"meta.html "],[0,"%}\n"],[-1,""],[0,"<meta name=\"view"]],"start1":486,"start2":486,"length1":35,"length2":45},{"diffs":[[0," PPK in "],[1,"["],[0,"this pos"]],"start1":1233,"start2":1233,"length1":16,"length2":17},{"diffs":[[0,"his post"],[1," about viewports](http://www.quirksmode.org/mobile/viewports2.html)"],[0,".  Here’"]],"start1":1243,"start2":1243,"length1":16,"length2":83},{"diffs":[[0,"ample:\n\n"],[1,"<img class=\"figure\" alt=\"Figure 7-1\" src=\"/images/news-images/viewport.png\">\n\n"],[0,"Two scre"]],"start1":1668,"start2":1668,"length1":16,"length2":94},{"diffs":[[0,":\n\n{% codeblock "],[1,"viewport.css "],[0,"%}\n@-viewport {\n"]],"start1":3188,"start2":3188,"length1":32,"length2":45},{"diffs":[[0,"% codeblock "],[1,"viewport.css "],[0,"%}\n@-viewpor"]],"start1":5139,"start2":5139,"length1":24,"length2":37},{"diffs":[[0,"% codeblock "],[1,"viewport.css "],[0,"%}\n@viewport"]],"start1":5681,"start2":5681,"length1":24,"length2":37},{"diffs":[[0,"% codeblock "],[1,"viewport.css "],[0,"%}\n@-ms-view"]],"start1":6138,"start2":6138,"length1":24,"length2":37},{"diffs":[[0,":\n\n{% codeblock "],[1," meta.html "],[0,"%}\n<meta name=\"v"]],"start1":6660,"start2":6660,"length1":32,"length2":43},{"diffs":[[0,":\n\n{% codeblock "],[1,"meta.html "],[0,"%}\n<meta name=\"v"]],"start1":7758,"start2":7758,"length1":32,"length2":42},{"diffs":[[0,":\n\n{% codeblock "],[1,"meta.html "],[0,"%}\n<meta name=\"v"]],"start1":8194,"start2":8194,"length1":32,"length2":42},{"diffs":[[0,"\n\n\n\n"],[-1,"http://dev.w3.org/csswg/css-device-adapt/\nhttp://msdn.microsoft.com/en-us/library/ie/hh869615(v=vs.85).aspx\n\nhttp://www.quirksmode.org/mobile/viewports2.html\n\nhttp://blogs.windows.com/windows_phone/b/wpdev/archive/2011/03/14/managing-the-windows-phone-browser-viewport.aspx\n\n"]],"start1":8906,"start2":8906,"length1":279,"length2":4}]],"length":8910,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354156535759,"patch":[[{"diffs":[[0,"deblock "],[1,"viewport.css "],[0,"%}\n@medi"]],"start1":4232,"start2":4232,"length1":16,"length2":29}]],"length":8923,"saved":false}
{"ts":1354156549836,"patch":[[{"diffs":[[0,"deblock "],[1,"meta.html "],[0,"%}\n<meta"]],"start1":7528,"start2":7528,"length1":16,"length2":26}]],"length":8933,"saved":false}
{"contributors":[],"silentsave":false,"ts":1354205481509,"patch":[[{"diffs":[[0,"gories: "],[1,"[\"css\",\"mobile\",\"w3c\"]"],[0,"\n---\n###"]],"start1":131,"start2":131,"length1":16,"length2":38},{"diffs":[[0,"se values:\n\n"],[-1,"    *"],[1,"-"],[0,"auto:  let t"]],"start1":3885,"start2":3885,"length1":29,"length2":25},{"diffs":[[0,"he best\n"],[-1,"    *"],[1,"-"],[0,"device w"]],"start1":3935,"start2":3935,"length1":21,"length2":17},{"diffs":[[0,"device.\n"],[-1,"    *"],[1,"-"],[0,"percent/"]],"start1":4009,"start2":4009,"length1":21,"length2":17},{"diffs":[[0,"alues:\n\n"],[-1,"    *"],[1,"-"],[0,"auto: le"]],"start1":4838,"start2":4838,"length1":21,"length2":17},{"diffs":[[0," factor\n"],[-1,"    *"],[1,"-"],[0,"numeric:"]],"start1":4890,"start2":4890,"length1":21,"length2":17},{"diffs":[[0,"o zoom.\n"],[-1,"    *"],[1,"-"],[0,"percenta"]],"start1":4989,"start2":4989,"length1":21,"length2":17},{"diffs":[[0," used:\n\n"],[-1,"    *"],[1,"-"],[0,"auto: le"]],"start1":5450,"start2":5450,"length1":21,"length2":17},{"diffs":[[0,"termin \n"],[-1,"    *"],[1,"-"],[0,"landscap"]],"start1":5486,"start2":5486,"length1":21,"length2":17},{"diffs":[[0,"ion\n"],[-1,"    *"],[1,"-"],[0,"port"]],"start1":5543,"start2":5543,"length1":13,"length2":9}]],"length":8919,"saved":false}
{"ts":1354205878254,"patch":[[{"diffs":[[0,"mmary:\n\n"],[1,"> "],[0,"Both vie"]],"start1":1356,"start2":1356,"length1":16,"length2":18},{"diffs":[[0,"e values:\n\n-"],[1," "],[0,"auto:  let t"]],"start1":3888,"start2":3888,"length1":24,"length2":25},{"diffs":[[0,"he best\n"],[-1,"-"],[1,"\n- "],[0,"device w"]],"start1":3938,"start2":3938,"length1":17,"length2":19},{"diffs":[[0,"device.\n"],[-1,"-"],[1,"\n- "],[0,"percent/"]],"start1":4014,"start2":4014,"length1":17,"length2":19},{"diffs":[[0,"g values:\n\n-"],[1," "],[0,"auto: let th"]],"start1":4842,"start2":4842,"length1":24,"length2":25},{"diffs":[[0,"factor\n-"],[1," "],[0,"numeric:"]],"start1":4899,"start2":4899,"length1":16,"length2":17},{"diffs":[[0," zoom.\n-"],[1," "],[0,"percenta"]],"start1":4999,"start2":4999,"length1":16,"length2":17},{"diffs":[[0,"used:\n\n-"],[1," "],[0,"auto: le"]],"start1":5461,"start2":5461,"length1":16,"length2":17},{"diffs":[[0,"ermin \n-"],[1," "],[0,"landscap"]],"start1":5498,"start2":5498,"length1":16,"length2":17},{"diffs":[[0,"tation\n-"],[1," "],[0,"portrait"]],"start1":5552,"start2":5552,"length1":16,"length2":17}]],"length":8932,"saved":false}
{"ts":1354206104977,"patch":[[{"diffs":[[0,"he best\n"],[-1,"\n"],[0,"- device"]],"start1":3938,"start2":3938,"length1":17,"length2":16},{"diffs":[[0,"device.\n"],[-1,"\n"],[0,"- percen"]],"start1":4013,"start2":4013,"length1":17,"length2":16}]],"length":8930,"saved":false}
